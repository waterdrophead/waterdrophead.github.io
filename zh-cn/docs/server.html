<h2 id="title-服务器"><a href="#title-服务器" class="headerlink" title="title: 服务器"></a>title: 服务器</h2><h2 id="hexo-server"><a href="#hexo-server" class="headerlink" title="hexo-server"></a><a href="https://github.com/hexojs/hexo-server">hexo-server</a></h2><p>Hexo 3.0 把服务器独立成了个别模块，您必须先安装 <a href="https://github.com/hexojs/hexo-server">hexo-server</a> 才能使用。</p>
<pre><code class="bash">$ npm install hexo-server --save
</code></pre>
<p>安装完成后，输入以下命令以启动服务器，您的网站会在 <code>http://localhost:4000</code> 下启动。在服务器启动期间，Hexo 会监视文件变动并自动更新，您无须重启服务器。</p>
<pre><code class="bash">$ hexo server
</code></pre>
<p>如果您想要更改端口，或是在执行时遇到了 <code>EADDRINUSE</code> 错误，可以在执行时使用 <code>-p</code> 选项指定其他端口，如下：</p>
<pre><code class="bash">$ hexo server -p 5000
</code></pre>
<h3 id="静态模式"><a href="#静态模式" class="headerlink" title="静态模式"></a>静态模式</h3><p>在静态模式下，服务器只处理 <code>public</code> 文件夹内的文件，而不会处理文件变动，在执行时，您应该先自行执行 <code>hexo generate</code>，此模式通常用于生产环境（production mode）下。</p>
<pre><code class="bash">$ hexo server -s
</code></pre>
<h3 id="自定义-IP"><a href="#自定义-IP" class="headerlink" title="自定义 IP"></a>自定义 IP</h3><p>服务器默认运行在 <code>0.0.0.0</code>，您可以覆盖默认的 IP 设置，如下：</p>
<pre><code class="bash">$ hexo server -i 192.168.1.1
</code></pre>
<h2 id="Pow"><a href="#Pow" class="headerlink" title="Pow"></a>Pow</h2><p><a href="http://pow.cx/">Pow</a> 是一个 Mac 系统上的零配置 Rack 服务器，它也可以作为一个简单易用的静态文件服务器来使用。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><pre><code class="bash">$ curl get.pow.cx | sh
</code></pre>
<h3 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h3><p>在 <code>~/.pow</code> 文件夹建立链接（symlink）。</p>
<pre><code class="bash">$ cd ~/.pow
$ ln -s /path/to/myapp
</code></pre>
<p>您的网站将会在 <code>http://myapp.dev</code> 下运行，网址根据链接名称而定。</p>
<h2 id="Forever-PM2"><a href="#Forever-PM2" class="headerlink" title="Forever &#x2F; PM2"></a>Forever &#x2F; PM2</h2><p>为了让 Hexo 服务保持链接，你可以使用 <a href="https://github.com/nodejitsu/forever">Forever</a> 或 <a href="https://github.com/Unitech/pm2">PM2</a>。</p>
<p>Hexo 从 2.5 版本开始，就可以运行在编程模式下，所以你可以在 JavaScript 中调用 Hexo，而不是使用 CLI。</p>
<p><strong>1. 在你的站点文件夹中安装 Hexo。</strong></p>
<pre><code class="bash">$ npm install hexo --save
</code></pre>
<p><strong>2. 新建一个 JavaScript 文件并编写以下代码。</strong></p>
<pre><code class="js">require(&#39;hexo&#39;).init({command: &#39;server&#39;});
</code></pre>
<p><strong>3. 使用刚刚创建的 <a href="https://github.com/nodejitsu/forever">Forever</a> 或 <a href="https://github.com/Unitech/pm2">PM2</a> 运行这个 JavaScript 文件。</strong></p>
<p>PM2 的一个 [已知问题] 是，当停止运行脚本后，除非中断 PM2，否则端口不能自动释放。你必须在 fork 模式下运行脚本。</p>
<pre><code class="bash">$ forever start app.js
$ pm2 start app.js -x
</code></pre>
